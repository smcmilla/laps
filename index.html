<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1 Team Management App - Dynamic Session View</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif; /* Using Inter font */
            background-color: #1a202c; /* Dark background for the overall page */
        }
        /* Custom scrollbar styles */
        .scrollbar-thin::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
            background: #2d3748; /* gray-800 */
            border-radius: 10px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
            background-color: #4a5568; /* gray-700 */
            border-radius: 10px;
            border: 2px solid #2d3748; /* gray-800 */
        }
        /* Smaller and tighter typography */
        .text-xs-tight {
            font-size: 0.75rem; /* 12px */
            line-height: 1rem; /* 16px */
        }
        .text-sm-tight {
            font-size: 0.875rem; /* 14px */
            line-height: 1.25rem; /* 20px */
        }
    </style>
</head>
<body class="p-2 bg-gray-900 min-h-screen flex justify-center items-center">
    <!-- Main container for the two-pane layout (mimicking page.tsx shell) -->
    <div class="flex w-[98%] min-h-[700px] bg-[#222222] rounded-xl shadow-2xl overflow-hidden" style="height: 95vh;">

        <!-- Left Pane: ViewNavGlobal -->
        <div class="bg-[#111111] border-r border-[#555555] flex flex-col flex-shrink-0" style="width: 250px;">
            <div class="flex flex-col h-full">
                <div class="flex justify-between items-center p-2 border-b border-gray-700">
                    <h2 class="text-sm-tight font-semibold text-white">Navigation</h2>
                    <div class="flex space-x-1">
                        <button class="px-2 py-0.5 text-xs-tight bg-gray-600 hover:bg-gray-500 rounded-md text-white transition-colors duration-150">
                            Expand
                        </button>
                        <button class="px-2 py-0.5 text-xs-tight bg-gray-600 hover:bg-gray-500 rounded-md text-white transition-colors duration-150">
                            Collapse
                        </button>
                    </div>
                </div>
                <div class="flex-grow overflow-y-auto p-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-gray-900">
                    <ul class="space-y-0.5">
                        <li class="mb-0.5">
                            <div class="flex items-center text-xs-tight cursor-pointer hover:bg-gray-700 rounded-md py-1 px-1.5 transition-colors duration-150">
                                <span class="w-3 text-center mr-0.5 text-gray-400 select-none">‚ñ∫</span>
                                <span class="mr-1 text-gray-400">üìÅ</span>
                                <span class="text-gray-300">Events</span>
                            </div>
                            <ul class="ml-4 mt-0.5">
                                <li class="mb-0.5">
                                    <div class="flex items-center text-xs-tight cursor-pointer hover:bg-gray-700 rounded-md py-1 px-1.5 transition-colors duration-150">
                                        <span class="w-3 text-center mr-0.5 text-gray-400 select-none">‚ñº</span>
                                        <span class="mr-1 text-gray-400">üèÅ</span>
                                        <span class="text-gray-300">Monaco GP 2025</span>
                                    </div>
                                    <ul class="ml-4 mt-0.5">
                                        <li class="mb-0.5">
                                            <!-- Changed bg-blue-700 to bg-transparent and added border -->
                                            <div class="flex items-center text-xs-tight cursor-pointer hover:bg-gray-700 rounded-md py-1 px-1.5 transition-colors duration-150 bg-transparent text-gray-300 border border-gray-400">
                                                <span class="w-3 text-center mr-0.5"></span>
                                                <span class="mr-1 text-gray-400">‚è±Ô∏è</span>
                                                <span class="text-gray-300">Session 1 (FP1)</span>
                                            </div>
                                        </li>
                                        <li class="mb-0.5">
                                            <div class="flex items-center text-xs-tight cursor-pointer hover:bg-gray-700 rounded-md py-1 px-1.5 transition-colors duration-150">
                                                <span class="w-3 text-center mr-0.5"></span>
                                                <span class="mr-1 text-gray-400">‚è±Ô∏è</span>
                                                <span class="text-gray-300">Session 2 (Quali)</span>
                                            </div>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li class="mb-0.5">
                            <div class="flex items-center text-xs-tight cursor-pointer hover:bg-gray-700 rounded-md py-1 px-1.5 transition-colors duration-150">
                                <span class="w-3 text-center mr-0.5">‚ñ∫</span>
                                <span class="mr-1 text-gray-400">üèéÔ∏è</span>
                                <span class="text-gray-300">Cars</span>
                            </div>
                        </li>
                        <li class="mb-0.5">
                            <div class="flex items-center text-xs-tight cursor-pointer hover:bg-gray-700 rounded-md py-1 px-1.5 transition-colors duration-150">
                                <span class="w-3 text-center mr-0.5">‚ñ∫</span>
                                <span class="mr-1 text-gray-400">üë§</span>
                                <span class="text-gray-300">Drivers</span>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="mt-auto pt-2 border-t border-gray-700 text-xs-tight text-gray-500 p-2 text-center">
                    <p>&copy; F1 Team Management App</p>
                </div>
            </div>
        </div>

        <!-- Resizable Separator -->
        <div class="w-1 bg-gray-700 cursor-ew-resize hover:bg-gray-600 transition-colors duration-100 ease-in-out flex-shrink-0"></div>

        <!-- Right Pane: WsSession Component -->
        <div class="flex-grow p-4 flex flex-col overflow-hidden bg-[#222222]">
            <h2 class="text-lg font-bold text-white mb-3">Session: Example Session Name (FP1)</h2>

            <!-- WsSession's Tabs Navigation -->
            <div class="flex border-b border-gray-700 mb-3" id="wsSessionTabs">
                <button data-tab="summary" class="tab-button px-3 py-1.5 text-sm-tight font-medium rounded-t-lg transition-colors duration-150 bg-gray-700 text-white">
                    Summary
                </button>
                <button data-tab="params" class="tab-button px-3 py-1.5 text-sm-tight font-medium rounded-t-lg transition-colors duration-150 text-gray-400 hover:bg-gray-700 hover:text-white">
                    Params
                </button>
                <button data-tab="parts" class="tab-button px-3 py-1.5 text-sm-tight font-medium rounded-t-lg transition-colors duration-150 text-gray-400 hover:bg-gray-700 hover:text-white">
                    Parts
                </button>
                <button data-tab="driver" class="tab-button px-3 py-1.5 text-sm-tight font-medium rounded-t-lg transition-colors duration-150 text-gray-400 hover:bg-gray-700 hover:text-white">
                    Driver
                </button>
                <button data-tab="car" class="tab-button px-3 py-1.5 text-sm-tight font-medium rounded-t-lg transition-colors duration-150 text-gray-400 hover:bg-gray-700 hover:text-white">
                    Car
                </button>
                <button data-tab="analytics" class="tab-button px-3 py-1.5 text-sm-tight font-medium rounded-t-lg transition-colors duration-150 text-gray-400 hover:bg-gray-700 hover:text-white">
                    Analytics
                </button>
            </div>

            <!-- WsSession's Content Area (Two Columns) -->
            <div class="flex-grow flex flex-col md:flex-row h-full gap-4">
                <!-- Left Column: Split into VwLapNav (60%) and Dynamic Bottom Component (40%) -->
                <div class="flex flex-col w-full md:w-1/3 p-2 bg-black rounded-lg shadow-md border border-gray-600">
                    <!-- Top Section: VwLapNav -->
                    <div class="flex flex-col" style="height: 60%;">
                        <h3 class="text-sm-tight font-semibold text-white mb-2">Laps for this Session</h3>
                        <div class="flex-grow overflow-y-auto scrollbar-thin mb-3 space-y-0.5">
                            <!-- VwLapNav Mockup -->
                            <!-- Changed bg-blue-600 to bg-transparent and added border -->
                            <button class="w-full text-left p-1 rounded-md transition-colors duration-150 bg-transparent text-gray-300 border border-gray-400 shadow-md text-xs-tight">
                                Lap 1 - Time: 01:23.456
                            </button>
                            <button class="w-full text-left p-1 rounded-md transition-colors duration-150 bg-black text-gray-200 hover:bg-gray-900 text-xs-tight">
                                Lap 2 - Time: 01:24.123
                            </button>
                            <button class="w-full text-left p-1 rounded-md transition-colors duration-150 bg-black text-gray-200 hover:bg-gray-900 text-xs-tight">
                                Lap 3 - Time: 01:23.987
                            </button>
                            <button class="w-full text-left p-1 rounded-md transition-colors duration-150 bg-black text-gray-200 hover:bg-gray-900 text-xs-tight">
                                Lap 4 - Time: 01:25.001
                            </button>
                            <button class="w-full text-left p-1 rounded-md transition-colors duration-150 bg-black text-gray-200 hover:bg-gray-900 text-xs-tight">
                                Lap 5 - Time: 01:23.789
                            </button>
                            <button class="w-full text-left p-1 rounded-md transition-colors duration-150 bg-green-600 text-white hover:bg-green-700 mt-2 text-xs-tight">
                                + Add New Lap
                            </button>
                        </div>
                    </div>

                    <!-- Bottom Section: Dynamic Bottom Left Component Area -->
                    <div class="flex-shrink-0 mt-auto" style="height: 40%;" id="dynamicLeftBottom">
                        <!-- VwLapQuickset (Default) -->
                        <div id="vwLapQuickset" class="p-3 bg-gray-800 rounded-lg shadow-inner text-xs-tight border border-gray-600 h-full overflow-y-auto scrollbar-thin">
                            <h3 class="text-sm-tight font-semibold text-white mb-2">Quick Lap Settings</h3>
                            <div class="grid grid-cols-2 gap-1.5">
                                <div class="font-medium text-gray-300">Lap ID:</div>
                                <div class="text-white">101</div>
                                <div class="font-medium text-gray-300">Lap Number:</div>
                                <div class="text-white">1</div>
                                <div class="font-medium text-gray-300">Lap Time:</div>
                                <input type="text" value="01:23.456" class="w-full p-0.5 rounded-sm bg-gray-700 text-white border border-gray-600 text-xs-tight">
                                <div class="font-medium text-gray-300">Fuel Used:</div>
                                <input type="number" value="2.5" class="w-full p-0.5 rounded-sm bg-gray-700 text-white border border-gray-600 text-xs-tight">
                                <div class="font-medium text-gray-300">Tire Compound:</div>
                                <select class="w-full p-0.5 rounded-sm bg-gray-700 text-white border border-gray-600 text-xs-tight">
                                    <option>Soft</option><option>Medium</option><option>Hard</option>
                                </select>
                                <div class="font-medium text-gray-300">Car:</div>
                                <select class="w-full p-0.5 rounded-sm bg-gray-700 text-white border border-gray-600 text-xs-tight">
                                    <option>Red Bull RB20</option><option>Ferrari SF-24</option>
                                </select>
                                <div class="font-medium text-gray-300">Driver:</div>
                                <select class="w-full p-0.5 rounded-sm bg-gray-700 text-white border border-gray-600 text-xs-tight">
                                    <option>Max Verstappen</option><option>Sergio Perez</option>
                                </select>
                            </div>
                            <!-- Changed bg-blue-600 to bg-transparent and added border -->
                            <button class="w-full py-1.5 mt-3 rounded-md transition-colors duration-150 bg-transparent text-gray-300 border border-gray-400 hover:bg-gray-700 hover:text-white text-xs-tight">
                                Save Quick Settings
                            </button>
                        </div>

                        <!-- VwDriversList (Hidden by default) -->
                        <div id="vwDriversList" class="p-3 bg-gray-800 rounded-lg shadow-inner text-xs-tight border border-gray-600 hidden h-full overflow-y-auto scrollbar-thin">
                            <h3 class="text-sm-tight font-semibold text-white mb-2">Session Drivers</h3>
                            <ul class="space-y-1 text-gray-300">
                                <li>- Max Verstappen (Active)</li>
                                <li>- Sergio Perez</li>
                                <li>- Charles Leclerc</li>
                            </ul>
                            <p class="text-gray-400 text-xs-tight mt-3">(This is a placeholder for VwDriversList content)</p>
                        </div>

                        <!-- VwCarList (Hidden by default) -->
                        <div id="vwCarList" class="p-3 bg-gray-800 rounded-lg shadow-inner text-xs-tight border border-gray-600 hidden h-full overflow-y-auto scrollbar-thin">
                            <h3 class="text-sm-tight font-semibold text-white mb-2">Session Cars</h3>
                            <ul class="space-y-1 text-gray-300">
                                <li>- Red Bull RB20 (Active)</li>
                                <li>- Ferrari SF-24</li>
                                <li>- Mercedes W16</li>
                            </ul>
                            <p class="text-gray-400 text-xs-tight mt-3">(This is a placeholder for VwCarList content)</p>
                        </div>

                        <!-- VwLapChartList (Hidden by default) -->
                        <div id="vwLapChartList" class="p-3 bg-gray-800 rounded-lg shadow-inner text-xs-tight border border-gray-600 hidden h-full overflow-y-auto scrollbar-thin">
                            <h3 class="text-sm-tight font-semibold text-white mb-2">Lap Charts Overview</h3>
                            <ul class="space-y-1 text-gray-300">
                                <li>- Lap Time Distribution</li>
                                <li>- Speed vs. Time Comparison</li>
                                <li>- Tire Degradation Chart</li>
                            </ul>
                            <p class="text-gray-400 text-xs-tight mt-3">(This is a placeholder for VwLapChartList content)</p>
                        </div>
                    </div>
                </div>

                <!-- Right Column: Tab Content Area -->
                <div class="flex flex-col w-full md:w-2/3 p-2 bg-gray-800 rounded-lg shadow-md border border-gray-700">
                    <div class="flex-grow bg-gray-800 rounded-lg p-3 overflow-y-auto scrollbar-thin border border-gray-700" id="wsSessionTabContent">
                        <!-- Tab Content: Summary (Default) -->
                        <div id="tabContent-summary" class="tab-content">
                            <h4 class="text-sm-tight font-semibold text-blue-400 mb-2">Session Summary (VwSessionHeader)</h4>
                            <p class="text-gray-300 text-xs-tight">
                                This area displays high-level information about the session: date, track, weather conditions, session type (FP1, Quali, Race), etc.
                            </p>
                            <ul class="list-disc list-inside mt-2 text-gray-400 text-xs-tight">
                                <li>Date: 2025-07-23</li>
                                <li>Track: Monaco Circuit</li>
                                <li>Weather: Sunny, 25¬∞C</li>
                                <li>Session Type: Free Practice 1</li>
                            </ul>
                            <div class="mt-3 p-2 bg-gray-700 rounded-md text-gray-300 text-xs-tight">
                                (Placeholder for VwSessionHeader content)
                            </div>
                        </div>

                        <!-- Tab Content: Params (Hidden by default) -->
                        <div id="tabContent-params" class="tab-content hidden">
                            <h4 class="text-sm-tight font-semibold text-blue-400 mb-2">Lap Parameters (ContainerCRUDTable)</h4>
                            <p class="text-gray-300 text-xs-tight">
                                This area would display a table or cards of `tbl_lap_param` records, filtered by the currently selected lap (from VwLapNav).
                            </p>
                            <ul class="list-disc list-inside mt-2 text-gray-400 text-xs-tight">
                                <li>Parameter A: Value 1</li>
                                <li>Parameter B: Value 2</li>
                                <li>Parameter C: Value 3</li>
                            </ul>
                            <div class="mt-3 p-2 bg-gray-700 rounded-md text-gray-300 text-xs-tight">
                                (Placeholder for ContainerCRUDTable content for Params)
                            </div>
                        </div>

                        <!-- Tab Content: Parts (Hidden by default) -->
                        <div id="tabContent-parts" class="tab-content hidden">
                            <h4 class="text-sm-tight font-semibold text-blue-400 mb-2">Lap Parts (ContainerCRUDTable)</h4>
                            <p class="text-gray-300 text-xs-tight">
                                This area would display a table or cards of `tbl_lap_part` records, filtered by the currently selected lap.
                            </p>
                            <ul class="list-disc list-inside mt-2 text-gray-400 text-xs-tight">
                                <li>Part X: Status Good</li>
                                <li>Part Y: Status Worn</li>
                            </ul>
                            <div class="mt-3 p-2 bg-gray-700 rounded-md text-gray-300 text-xs-tight">
                                (Placeholder for ContainerCRUDTable content for Parts)
                            </div>
                        </div>

                        <!-- Tab Content: Driver (Hidden by default) -->
                        <div id="tabContent-driver" class="tab-content hidden">
                            <h4 class="text-sm-tight font-semibold text-blue-400 mb-2">Session Driver Details (VwSessionDriverDetails)</h4>
                            <p class="text-gray-300 text-xs-tight">
                                This tab shows details about the driver(s) assigned to this specific session.
                            </p>
                            <ul class="list-disc list-inside mt-2 text-gray-400 text-xs-tight">
                                <li>Driver Name: Max Verstappen</li>
                                <li>Licence: Super Licence</li>
                                <li>Team: Red Bull Racing</li>
                            </ul>
                            <div class="mt-3 p-2 bg-gray-700 rounded-md text-gray-300 text-xs-tight">
                                (Placeholder for VwSessionDriverDetails content)</p>
                            </div>
                        </div>

                        <!-- Tab Content: Car (Hidden by default) -->
                        <div id="tabContent-car" class="tab-content hidden">
                            <h4 class="text-sm-tight font-semibold text-blue-400 mb-2">Session Car Details (VwSessionCarDetails)</h4>
                            <p class="text-gray-300 text-xs-tight">
                                This tab shows details about the specific car used in this session.
                            </p>
                            <ul class="list-disc list-inside mt-2 text-gray-400 text-xs-tight">
                                <li>Car Model: RB20</li>
                                <li>Chassis Number: 001</li>
                                <li>Engine: Honda</li>
                            </ul>
                            <div class="mt-3 p-2 bg-gray-700 rounded-md text-gray-300 text-xs-tight">
                                (Placeholder for VwSessionCarDetails content)
                            </div>
                        </div>

                        <!-- Tab Content: Analytics (Hidden by default) -->
                        <div id="tabContent-analytics" class="tab-content hidden">
                            <h4 class="text-sm-tight font-semibold text-blue-400 mb-2">Session-Wide Analytics</h4>
                            <p class="text-gray-300 text-xs-tight">
                                This tab contains overall analytical charts for laps, car, and driver performance within this session.
                            </p>
                            <ul class="list-disc list-inside mt-2 text-gray-400 text-xs-tight">
                                <li>Overall Lap Times Chart (for all laps in session)</li>
                                <li>Car Performance Metrics Chart (for this session)</li>
                                <li>Driver Consistency Chart (for this session)</li>
                            </ul>
                            <div class="mt-3 p-2 bg-gray-700 rounded-md text-gray-300 text-xs-tight">
                                (Placeholder for VwSessionOverallLapChart, VwSessionCarPerformanceChart, VwSessionDriverPerformanceChart components)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            // Function to show a specific tab content and update active tab styling
            function showTab(tabId) {
                // Hide all tab contents
                $('.tab-content').hide();
                // Show the selected tab content
                $('#tabContent-' + tabId).show();

                // Remove active class from all tab buttons
                $('.tab-button').removeClass('bg-gray-700 text-white').addClass('text-gray-400 hover:bg-gray-700 hover:text-white');
                // Add active class to the clicked tab button
                $(`.tab-button[data-tab="${tabId}"]`).removeClass('text-gray-400 hover:bg-gray-700 hover:text-white').addClass('bg-gray-700 text-white');
            }

            // Function to swap the bottom-left component
            function swapLeftBottomComponent(tabId) {
                // Hide all dynamic left-bottom components
                $('#dynamicLeftBottom > div').hide();

                // Show the appropriate component based on the tabId
                if (tabId === 'driver') {
                    $('#vwDriversList').show();
                } else if (tabId === 'car') {
                    $('#vwCarList').show();
                } else if (tabId === 'analytics') {
                    $('#vwLapChartList').show();
                } else {
                    // Default for Summary, Params, Parts, etc.
                    $('#vwLapQuickset').show();
                }
            }

            // Handle tab button clicks
            $('#wsSessionTabs').on('click', '.tab-button', function() {
                const tabId = $(this).data('tab');
                showTab(tabId);
                swapLeftBottomComponent(tabId);
            });

            // Initial load: show the default tab (Summary) and its corresponding left-bottom component
            showTab('summary');
            swapLeftBottomComponent('summary');
        });
    </script>
</body>
</html>
